{"ast":null,"code":"import React,{useContext,useState}from'react';import'./DisplayProduct.css';import{ShopContext}from'../../context/ShopContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DisplayProduct=props=>{const{product}=props;const{cartItems,addToCart}=useContext(ShopContext);// Access cartItems from context\nconst[quantity,setQuantity]=useState(1);const handleQuantityChange=e=>{const value=e.target.value;if(value===\"\"){setQuantity(\"\");// Keep input blank if empty\n}else{setQuantity(Math.max(0,parseInt(value,10)||0));}};const increaseQuantity=()=>{setQuantity(prevQuantity=>prevQuantity?prevQuantity+1:1);};const decreaseQuantity=()=>{setQuantity(prevQuantity=>prevQuantity>0?prevQuantity-1:0);};const handleAddToCart=()=>{const quantityToAdd=quantity===\"\"?0:quantity;// Default to 0 if input is empty\nif(quantityToAdd>0){addToCart(product.id,quantityToAdd);setQuantity(1);// Reset quantity to 1 after adding to cart\n}};// Get the current quantity of this product in the cart\nconst productInCart=cartItems[product.id]||0;const getProductType=type=>{if(type==='food')return'◊ê◊ï◊õ◊ú';if(type==='equipment')return'◊¶◊ô◊ï◊ì';return null;};return/*#__PURE__*/_jsx(\"div\",{className:\"display-product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-display-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-display-top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-image-display-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"product-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:\"\",className:\"product-image\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info-display-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"product-code\",children:product.id}),/*#__PURE__*/_jsx(\"h1\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-brand-type\",children:[product.brand,\" | \",getProductType(product.product_type)]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.description}),product.on_discount?/*#__PURE__*/_jsxs(\"div\",{className:\"product-discount\",children:[\"\\u05DE\\u05D5\\u05E6\\u05E8 \\u05D6\\u05D4 \\u05D1\\u05DE\\u05D1\\u05E6\\u05E2! \",product.discount_type,/*#__PURE__*/_jsx(\"span\",{className:\"product-discount-icon\",children:\"\\uD83D\\uDD25\"})]}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"\\u20AA\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-addtocart\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:quantity<=0||quantity===\"\",children:\"\\u05D4\\u05D5\\u05E1\\u05E4\\u05D4 \\u05DC\\u05E2\\u05D2\\u05DC\\u05D4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"addtocart-quantity\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:increaseQuantity,children:\"+\"}),/*#__PURE__*/_jsx(\"input\",{className:\"counter\",type:\"number\",value:quantity,onChange:handleQuantityChange,min:\"0\"}),/*#__PURE__*/_jsx(\"span\",{onClick:decreaseQuantity,children:\"-\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u05DE\\u05D5\\u05E6\\u05E8 \\u05D6\\u05D4 \\u05D1\\u05E2\\u05D2\\u05DC\\u05D4 \\u05E9\\u05DC\\u05DA:\",productInCart>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cart-badge\",children:productInCart})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-display-bottom\"})]})});};export default DisplayProduct;","map":{"version":3,"names":["React","useContext","useState","ShopContext","jsx","_jsx","jsxs","_jsxs","DisplayProduct","props","product","cartItems","addToCart","quantity","setQuantity","handleQuantityChange","e","value","target","Math","max","parseInt","increaseQuantity","prevQuantity","decreaseQuantity","handleAddToCart","quantityToAdd","id","productInCart","getProductType","type","className","children","src","image","alt","name","brand","product_type","description","on_discount","discount_type","price","onClick","disabled","onChange","min"],"sources":["/Users/nnt/Documents/Projects/Online_PetShop/Pet_Shop_Web/frontend/src/components/displayProduct/DisplayProduct.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport './DisplayProduct.css';\nimport { ShopContext } from '../../context/ShopContext';\n\nconst DisplayProduct = (props) => {\n    const { product } = props;\n    const { cartItems, addToCart } = useContext(ShopContext); // Access cartItems from context\n    const [quantity, setQuantity] = useState(1);\n\n    const handleQuantityChange = (e) => {\n        const value = e.target.value;\n        if (value === \"\") {\n            setQuantity(\"\"); // Keep input blank if empty\n        } else {\n            setQuantity(Math.max(0, parseInt(value, 10) || 0));\n        }\n    };\n\n    const increaseQuantity = () => {\n        setQuantity((prevQuantity) => (prevQuantity ? prevQuantity + 1 : 1));\n    };\n\n    const decreaseQuantity = () => {\n        setQuantity((prevQuantity) => (prevQuantity > 0 ? prevQuantity - 1 : 0));\n    };\n\n    const handleAddToCart = () => {\n        const quantityToAdd = quantity === \"\" ? 0 : quantity; // Default to 0 if input is empty\n        if (quantityToAdd > 0) {\n            addToCart(product.id, quantityToAdd);\n            setQuantity(1); // Reset quantity to 1 after adding to cart\n        }\n    };\n\n    // Get the current quantity of this product in the cart\n    const productInCart = cartItems[product.id] || 0;\n\n    const getProductType = (type) => {\n        if (type === 'food') return '◊ê◊ï◊õ◊ú';\n        if (type === 'equipment') return '◊¶◊ô◊ï◊ì';\n        return null;\n    }\n    return (\n        <div className=\"display-product\">\n            <div className=\"product-display-container\">\n                <div className=\"product-display-top\">\n                    <div className=\"product-image-display-left\">\n                        <div className=\"product-image-container\">\n                            <img src={product.image} alt=\"\" className=\"product-image\" />\n                        </div>\n                    </div>\n                    <div className=\"product-info-display-right\">\n                            <div className=\"product-details\">\n                                <p className=\"product-code\">{product.id}</p>\n                                <h1 className=\"product-title\">{product.name}</h1>\n                                <p className=\"product-brand-type\">{product.brand} | {getProductType(product.product_type)}</p>\n                                <p className=\"product-description\">{product.description}</p>\n                                {product.on_discount ? (\n                                    <div className=\"product-discount\">\n                                        ◊û◊ï◊¶◊® ◊ñ◊î ◊ë◊û◊ë◊¶◊¢! {product.discount_type}\n                                        <span className=\"product-discount-icon\">üî•</span>\n                                    </div>\n                                ) : null}\n\n                            </div>\n                            <div className=\"product-price-container\">\n                                <p className=\"product-price\">‚Ç™{product.price}</p>\n                                    <div className=\"product-addtocart\">\n                                        <button\n                                            onClick={handleAddToCart}\n                                            disabled={quantity <= 0 || quantity === \"\"}\n                                        >\n                                            ◊î◊ï◊°◊§◊î ◊ú◊¢◊í◊ú◊î\n                                        </button>\n                                        <div className=\"addtocart-quantity\">\n                                            <span onClick={increaseQuantity}>+</span>\n                                            <input\n                                                className='counter'\n                                                type=\"number\"\n                                                value={quantity}\n                                                onChange={handleQuantityChange}\n                                                min=\"0\"\n                                            />\n                                            <span onClick={decreaseQuantity}>-</span>\n                                        </div>\n                                        \n                                    </div>\n                                    <p>\n                                        ◊û◊ï◊¶◊® ◊ñ◊î ◊ë◊¢◊í◊ú◊î ◊©◊ú◊ö:   \n                                        {productInCart > 0 && (\n                                            <span className=\"cart-badge\">{productInCart}</span>\n                                        )} \n                                    </p>\n                            </div>\n                    </div>\n                </div>\n                <div className=\"product-display-bottom\">\n                    \n                </div>\n            </div>\n            \n        </div>\n    );\n};\n\nexport default DisplayProduct;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}