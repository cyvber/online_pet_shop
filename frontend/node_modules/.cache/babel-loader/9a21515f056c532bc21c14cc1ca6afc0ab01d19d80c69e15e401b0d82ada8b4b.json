{"ast":null,"code":"import React,{useContext,useState}from'react';import'./DisplayProduct.css';import{ShopContext}from'../../context/ShopContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DisplayProduct=props=>{const{product}=props;const{cartItems,addToCart}=useContext(ShopContext);// Access cartItems from context\nconst[quantity,setQuantity]=useState(1);const handleQuantityChange=e=>{const value=e.target.value;if(value===\"\"){setQuantity(\"\");// Keep input blank if empty\n}else{setQuantity(Math.max(0,parseInt(value,10)||0));}};const increaseQuantity=()=>{setQuantity(prevQuantity=>prevQuantity?prevQuantity+1:1);};const decreaseQuantity=()=>{setQuantity(prevQuantity=>prevQuantity>0?prevQuantity-1:0);};const handleAddToCart=()=>{const quantityToAdd=quantity===\"\"?0:quantity;// Default to 0 if input is empty\nif(quantityToAdd>0){addToCart(product.id,quantityToAdd);setQuantity(1);// Reset quantity to 1 after adding to cart\n}};// Get the current quantity of this product in the cart\nconst productInCart=cartItems[product.id]||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"productdisplay\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"display-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-top\",children:[/*#__PURE__*/_jsx(\"h1\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-bottom\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AA\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-button-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:quantity<=0||quantity===\"\",children:\"ADD TO CART\"}),productInCart>0&&/*#__PURE__*/_jsx(\"div\",{className:\"cart-badge\",children:productInCart})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-quantity\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:increaseQuantity,children:\"+\"}),/*#__PURE__*/_jsx(\"input\",{className:\"counter\",type:\"number\",value:quantity,onChange:handleQuantityChange,min:\"0\"}),/*#__PURE__*/_jsx(\"span\",{onClick:decreaseQuantity,children:\"-\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"display-right\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name})})]});};export default DisplayProduct;","map":{"version":3,"names":["React","useContext","useState","ShopContext","jsx","_jsx","jsxs","_jsxs","DisplayProduct","props","product","cartItems","addToCart","quantity","setQuantity","handleQuantityChange","e","value","target","Math","max","parseInt","increaseQuantity","prevQuantity","decreaseQuantity","handleAddToCart","quantityToAdd","id","productInCart","className","children","name","description","price","onClick","disabled","type","onChange","min","src","image","alt"],"sources":["/Users/nnt/Documents/Projects/Online_PetShop/frontend/src/components/displayProduct/DisplayProduct.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport './DisplayProduct.css';\nimport { ShopContext } from '../../context/ShopContext';\n\nconst DisplayProduct = (props) => {\n    const { product } = props;\n    const { cartItems, addToCart } = useContext(ShopContext); // Access cartItems from context\n    const [quantity, setQuantity] = useState(1);\n\n    const handleQuantityChange = (e) => {\n        const value = e.target.value;\n        if (value === \"\") {\n            setQuantity(\"\"); // Keep input blank if empty\n        } else {\n            setQuantity(Math.max(0, parseInt(value, 10) || 0));\n        }\n    };\n\n    const increaseQuantity = () => {\n        setQuantity((prevQuantity) => (prevQuantity ? prevQuantity + 1 : 1));\n    };\n\n    const decreaseQuantity = () => {\n        setQuantity((prevQuantity) => (prevQuantity > 0 ? prevQuantity - 1 : 0));\n    };\n\n    const handleAddToCart = () => {\n        const quantityToAdd = quantity === \"\" ? 0 : quantity; // Default to 0 if input is empty\n        if (quantityToAdd > 0) {\n            addToCart(product.id, quantityToAdd);\n            setQuantity(1); // Reset quantity to 1 after adding to cart\n        }\n    };\n\n    // Get the current quantity of this product in the cart\n    const productInCart = cartItems[product.id] || 0;\n\n    return (\n        <div className='productdisplay'>\n            <div className=\"display-left\">\n                <div className=\"product-top\">\n                    <h1>{product.name}</h1>\n                    <p>{product.description}</p>\n                </div>\n                <hr />\n                <div className=\"product-bottom\">\n                    <p>â‚ª{product.price}</p>\n                    <div className=\"add-product\">\n                        <div className=\"cart-button-container\">\n                            <button\n                                onClick={handleAddToCart}\n                                disabled={quantity <= 0 || quantity === \"\"}\n                            >\n                                ADD TO CART\n                            </button>\n                            {/* Badge to display the product count in cart */}\n                            {productInCart > 0 && (\n                                <div className=\"cart-badge\">{productInCart}</div>\n                            )}\n                        </div>\n                        <div className=\"product-quantity\">\n                            <span onClick={increaseQuantity}>+</span>\n                            <input\n                                className='counter'\n                                type=\"number\"\n                                value={quantity}\n                                onChange={handleQuantityChange}\n                                min=\"0\"\n                            />\n                            <span onClick={decreaseQuantity}>-</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div className=\"display-right\">\n                <img src={product.image} alt={product.name} />\n            </div>\n        </div>\n    );\n};\n\nexport default DisplayProduct;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}