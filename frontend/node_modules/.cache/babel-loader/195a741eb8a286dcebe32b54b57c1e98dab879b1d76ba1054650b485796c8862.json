{"ast":null,"code":"import React,{useContext}from'react';import'./CartItems.css';import{ShopContext}from'../../context/ShopContext';import Checkout from'../checkout/Checkout';// Import the new Checkout component\nimport{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartItems=()=>{const{cartItems,all_products,clearItemFromCart,clearAllItemsFromCart,updateCartQuantity,getTotalCartValue,getTotalItems}=useContext(ShopContext);const navigate=useNavigate();const getTotalPrice=(price,quantity)=>price*quantity;const cartProducts=all_products.filter(product=>cartItems[product.id]>0);const isCartEmpty=cartProducts.length===0;return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[isCartEmpty?/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D4\\u05E2\\u05D2\\u05DC\\u05D4 \\u05E9\\u05DC\\u05DA \\u05E8\\u05D9\\u05E7\\u05D4\"}):cartProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"cart-item-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u05DE\\u05D7\\u05D9\\u05E8: \\u20AA\",product.price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-picker\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u05DB\\u05DE\\u05D5\\u05EA \"}),/*#__PURE__*/_jsx(\"select\",{value:cartItems[product.id],onChange:e=>updateCartQuantity(product.id,parseInt(e.target.value,10)),children:[...Array(20).keys()].map(num=>/*#__PURE__*/_jsx(\"option\",{value:num+1,children:num+1},num+1))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartitem-remove-button-alignment\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u05E1\\u05D4\\\"\\u05DB: \\u20AA\",getTotalPrice(product.price,cartItems[product.id]).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>clearItemFromCart(product.id),children:\"\\u05D4\\u05E1\\u05E8\"})]})]})]},product.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u05E1\\u05D4\\\"\\u05DB \\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD: \",getTotalItems()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u05E1\\u05D4\\\"\\u05DB \\u05DE\\u05D7\\u05D9\\u05E8: \\u20AA\",getTotalCartValue().toFixed(2)]})]}),!isCartEmpty&&/*#__PURE__*/_jsx(\"button\",{className:\"delete-all-button\",onClick:clearAllItemsFromCart,children:\"\\u05DE\\u05D7\\u05E7 \\u05D4\\u05DB\\u05DC\"})]})]}),/*#__PURE__*/_jsx(Checkout,{totalCartValue:getTotalCartValue(),isCartEmpty:isCartEmpty,navigateToOrder:()=>navigate('/order')})]});};export default CartItems;","map":{"version":3,"names":["React","useContext","ShopContext","Checkout","useNavigate","jsx","_jsx","jsxs","_jsxs","CartItems","cartItems","all_products","clearItemFromCart","clearAllItemsFromCart","updateCartQuantity","getTotalCartValue","getTotalItems","navigate","getTotalPrice","price","quantity","cartProducts","filter","product","id","isCartEmpty","length","className","children","map","src","image","alt","name","toFixed","value","onChange","e","parseInt","target","Array","keys","num","onClick","totalCartValue","navigateToOrder"],"sources":["/Users/nnt/Documents/Projects/Online_PetShop/Pet_Shop_Web/frontend/src/components/cartItems/CartItems.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport './CartItems.css';\nimport { ShopContext } from '../../context/ShopContext';\nimport Checkout from '../checkout/Checkout'; // Import the new Checkout component\nimport { useNavigate } from 'react-router-dom';\n\nconst CartItems = () => {\n    const {\n        cartItems,\n        all_products,\n        clearItemFromCart,\n        clearAllItemsFromCart,\n        updateCartQuantity,\n        getTotalCartValue,\n        getTotalItems,\n    } = useContext(ShopContext);\n\n    const navigate = useNavigate();\n\n    const getTotalPrice = (price, quantity) => price * quantity;\n\n    const cartProducts = all_products.filter((product) => cartItems[product.id] > 0);\n    const isCartEmpty = cartProducts.length === 0;\n\n    return (\n        <div className=\"cart-page\">\n            <div className=\"cart-items\">\n                {isCartEmpty ? (\n                    <p>העגלה שלך ריקה</p>\n                ) : (\n                    cartProducts.map((product) => (\n                        <div key={product.id} className=\"cart-item\">\n                            <img src={product.image} alt={product.name} className=\"cart-item-image\" />\n                            <div className=\"cart-item-details\">\n                                <h2>{product.name}</h2>\n                                <p>מחיר: ₪{product.price.toFixed(2)}</p>\n                                <div className=\"quantity-picker\">\n                                    <p>כמות </p>\n                                    <select\n                                        value={cartItems[product.id]}\n                                        onChange={(e) =>\n                                            updateCartQuantity(product.id, parseInt(e.target.value, 10))\n                                        }\n                                    >\n                                        {[...Array(20).keys()].map((num) => (\n                                            <option key={num + 1} value={num + 1}>\n                                                {num + 1}\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n                                <div className=\"cartitem-remove-button-alignment\">\n                                <p>סה\"כ: ₪{getTotalPrice(product.price, cartItems[product.id]).toFixed(2)}</p>\n                                <button\n                                    className=\"delete-button\"\n                                    onClick={() => clearItemFromCart(product.id)}\n                                >\n                                    הסר\n                                </button>\n                                </div>\n                            </div>\n                        </div>\n                    ))\n                )}\n\n                <div className=\"cart-summary\">\n                    <div className=\"cart-summary-details\">\n                        <span>סה\"כ פריטים: {getTotalItems()}</span>\n                        <span>סה\"כ מחיר: ₪{getTotalCartValue().toFixed(2)}</span>\n                    </div>\n                    {!isCartEmpty && (\n                        <button\n                            className=\"delete-all-button\"\n                            onClick={clearAllItemsFromCart}\n                        >\n                            מחק הכל\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {/* Pass data to the Checkout component */}\n            <Checkout\n                totalCartValue={getTotalCartValue()}\n                isCartEmpty={isCartEmpty}\n                navigateToOrder={() => navigate('/order')}\n            />\n        </div>\n    );\n};\n\nexport default CartItems;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}