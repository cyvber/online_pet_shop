{"ast":null,"code":"import React,{useContext}from'react';import'./Item.css';import{Link}from'react-router-dom';import cart_icon from'../assets/frontend_assets/cart-icon.png';import check_icon from'../assets/frontend_assets/check-icon.png';// Import the check icon\nimport{ShopContext}from'../../context/ShopContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Item=props=>{var _props$discount_type;const{addToCart,cartItems}=useContext(ShopContext);// Check if the product is in the cart\nconst isInCart=cartItems[props.id]>0;// Determine the discount type and calculate the new price if necessary\nconst isPercentageDiscount=(_props$discount_type=props.discount_type)===null||_props$discount_type===void 0?void 0:_props$discount_type.includes('%');const new_price=isPercentageDiscount?(props.price*(100-parseFloat(props.discount_type))).toFixed(2)/100:props.price;const handleAddToCart=()=>{if(!isInCart){addToCart(props.id,1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(Link,{style:{textDecoration:'none'},to:`/product/${props.id}`,onClick:()=>window.scrollTo(0,0),children:[/*#__PURE__*/_jsx(\"img\",{src:props.image,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"span\",{children:props.brand}),/*#__PURE__*/_jsx(\"h5\",{children:props.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:isPercentageDiscount?'old-price':'',children:[\"\\u20AA\",props.price]}),isPercentageDiscount&&/*#__PURE__*/_jsxs(\"h4\",{style:{color:'red'},children:[\"\\u20AA\",new_price]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-top-elements\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-icon\",children:/*#__PURE__*/_jsx(\"img\",{onClick:handleAddToCart,src:isInCart?check_icon:cart_icon// Dynamically switch icons\n,alt:isInCart?\"In Cart\":\"Add to Cart\",style:{cursor:isInCart?'not-allowed':'pointer'}// Disable clicking if already in cart\n})}),props.on_discount&&/*#__PURE__*/// Conditionally render the discount icon\n_jsxs(\"div\",{className:\"discount-icon\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u05DE\\u05D1\\u05E6\\u05E2!\"}),/*#__PURE__*/_jsx(\"p\",{children:props.discount_type})]})]})]});};export default Item;","map":{"version":3,"names":["React","useContext","Link","cart_icon","check_icon","ShopContext","jsx","_jsx","jsxs","_jsxs","Item","props","_props$discount_type","addToCart","cartItems","isInCart","id","isPercentageDiscount","discount_type","includes","new_price","price","parseFloat","toFixed","handleAddToCart","className","children","style","textDecoration","to","onClick","window","scrollTo","src","image","alt","brand","name","color","cursor","on_discount"],"sources":["/Users/nnt/Documents/Projects/Online_PetShop/frontend/src/components/item/Item.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport './Item.css';\nimport { Link } from 'react-router-dom';\nimport cart_icon from '../assets/frontend_assets/cart-icon.png';\nimport check_icon from '../assets/frontend_assets/check-icon.png'; // Import the check icon\nimport { ShopContext } from '../../context/ShopContext';\n\nconst Item = (props) => {\n    const { addToCart, cartItems } = useContext(ShopContext);\n\n    // Check if the product is in the cart\n    const isInCart = cartItems[props.id] > 0;\n\n    // Determine the discount type and calculate the new price if necessary\n    const isPercentageDiscount = props.discount_type?.includes('%');\n    const new_price = isPercentageDiscount\n        ? (props.price * (100 - parseFloat(props.discount_type))).toFixed(2) / 100\n        : props.price;\n\n    const handleAddToCart = () => {\n        if (!isInCart) {\n            addToCart(props.id, 1);\n        }\n    };\n\n    return (\n        <div className='item'>\n            <Link style={{ textDecoration: 'none' }} to={`/product/${props.id}`} onClick={() => window.scrollTo(0, 0)}>\n                <img src={props.image} alt=\"\" />\n                <div className='item-details'>\n                    <span>{props.brand}</span>\n                    <h5>{props.name}</h5>\n                    <div className=\"item-price\">\n                        <h4 className={isPercentageDiscount ? 'old-price' : ''}>\n                            ₪{props.price}\n                        </h4>\n                        {isPercentageDiscount && <h4 style={{ color: 'red' }}>₪{new_price}</h4>}\n                    </div>\n                </div>\n            </Link>\n            {/* Cart Icon */}\n            <div className=\"item-top-elements\">\n                <div className='cart-icon'>\n                    <img\n                        onClick={handleAddToCart}\n                        src={isInCart ? check_icon : cart_icon} // Dynamically switch icons\n                        alt={isInCart ? \"In Cart\" : \"Add to Cart\"}\n                        style={{ cursor: isInCart ? 'not-allowed' : 'pointer' }} // Disable clicking if already in cart\n                    />\n                </div>\n                {props.on_discount && ( // Conditionally render the discount icon\n                    <div className=\"discount-icon\">\n                        <p>מבצע!</p>\n                        <p>{props.discount_type}</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Item;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}